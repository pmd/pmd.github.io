<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>AbstractNodeInfo.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PMD Core</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.pmd.lang.ast.xpath.saxon</a> &gt; <span class="el_source">AbstractNodeInfo.java</span></div><h1>AbstractNodeInfo.java</h1><pre class="source lang-java linenums">/**
 * BSD-style license; for more info see http://pmd.sourceforge.net/license.html
 */

package net.sourceforge.pmd.lang.ast.xpath.saxon;

import net.sf.saxon.Configuration;
import net.sf.saxon.event.Receiver;
import net.sf.saxon.om.Axis;
import net.sf.saxon.om.AxisIterator;
import net.sf.saxon.om.DocumentInfo;
import net.sf.saxon.om.FastStringBuffer;
import net.sf.saxon.om.NamePool;
import net.sf.saxon.om.Navigator.AxisFilter;
import net.sf.saxon.om.NodeInfo;
import net.sf.saxon.om.SequenceIterator;
import net.sf.saxon.om.SiblingCountingNode;
import net.sf.saxon.om.VirtualNode;
import net.sf.saxon.pattern.NodeTest;
import net.sf.saxon.trans.XPathException;
import net.sf.saxon.value.Value;

/**
 * This is a basic implementation of the Saxon NodeInfo and related interfaces.
 * Most methods are trivial implementations which immediately throw
 * {@link UnsupportedOperationException}. A few of the methods actually have
 * useful implementations, such as {@link #iterateAxis(byte, NodeTest)} and
 * {@link #isSameNodeInfo(NodeInfo)}.
 */
<span class="nc" id="L30">public class AbstractNodeInfo implements VirtualNode, SiblingCountingNode {</span>
    /**
     * {@inheritDoc}
     */
    @Override
    public String getSystemId() {
<span class="nc" id="L36">        throw createUnsupportedOperationException(&quot;Source.getSystemId()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public void setSystemId(String systemId) {
<span class="nc" id="L44">        throw createUnsupportedOperationException(&quot;Source.setSystemId(String)&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public String getStringValue() {
<span class="nc" id="L52">        throw createUnsupportedOperationException(&quot;ValueRepresentation.getStringValue()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public CharSequence getStringValueCS() {
<span class="nc" id="L60">        throw createUnsupportedOperationException(&quot;ValueRepresentation.getStringValueCS()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public SequenceIterator getTypedValue() throws XPathException {
<span class="nc" id="L68">        throw createUnsupportedOperationException(&quot;Item.getTypedValue()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Object getUnderlyingNode() {
<span class="nc" id="L76">        throw createUnsupportedOperationException(&quot;VirtualNode.getUnderlyingNode()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public int getSiblingPosition() {
<span class="nc" id="L84">        throw createUnsupportedOperationException(&quot;SiblingCountingNode.getSiblingPosition()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Value atomize() throws XPathException {
<span class="nc" id="L92">        throw createUnsupportedOperationException(&quot;NodeInfo.atomize()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public int compareOrder(NodeInfo other) {
<span class="nc" id="L100">        throw createUnsupportedOperationException(&quot;NodeInfo.compareOrder(NodeInfo)&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public void copy(Receiver receiver, int whichNamespaces, boolean copyAnnotations, int locationId)
            throws XPathException {
<span class="nc" id="L109">        throw createUnsupportedOperationException(&quot;ValueRepresentation.copy(Receiver, int, boolean, int)&quot;);</span>
    }

    /**
     * This implementation considers to NodeInfo objects to be equal, if their
     * underlying nodes are equal.
     *
     * {@inheritDoc}
     */
    @Override
    public boolean equals(Object other) {
<span class="nc bnc" id="L120" title="All 2 branches missed.">        if (this == other) {</span>
<span class="nc" id="L121">            return true;</span>
        }
<span class="nc bnc" id="L123" title="All 2 branches missed.">        if (other instanceof ElementNode) {</span>
<span class="nc bnc" id="L124" title="All 2 branches missed.">            return this.getUnderlyingNode() == ((ElementNode) other).getUnderlyingNode();</span>
        }
<span class="nc" id="L126">        return false;</span>
    }

    @Override
    public int hashCode() {
<span class="nc bnc" id="L131" title="All 2 branches missed.">        if (this.getUnderlyingNode() != null) {</span>
<span class="nc" id="L132">            return super.hashCode() + 31 * this.getUnderlyingNode().hashCode();</span>
        } else {
<span class="nc" id="L134">            return super.hashCode();</span>
        }
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public void generateId(FastStringBuffer buffer) {
<span class="nc" id="L143">        throw createUnsupportedOperationException(&quot;NodeInfo.generateId(FastStringBuffer)&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public String getAttributeValue(int fingerprint) {
<span class="nc" id="L151">        throw createUnsupportedOperationException(&quot;NodeInfo.getAttributeValue(int)&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public String getBaseURI() {
<span class="nc" id="L159">        throw createUnsupportedOperationException(&quot;NodeInfo.getBaseURI()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public int getColumnNumber() {
<span class="nc" id="L167">        throw createUnsupportedOperationException(&quot;NodeInfo.getColumnNumber()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Configuration getConfiguration() {
<span class="nc" id="L175">        throw createUnsupportedOperationException(&quot;NodeInfo.getConfiguration()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public int[] getDeclaredNamespaces(int[] buffer) {
<span class="nc" id="L183">        throw createUnsupportedOperationException(&quot;NodeInfo.getDeclaredNamespaces(int[])&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public String getDisplayName() {
<span class="nc" id="L191">        throw createUnsupportedOperationException(&quot;NodeInfo.getDisplayName()&quot;);</span>
    }

    /**
     * This implementation always returns 0.
     *
     * {@inheritDoc}
     */
    @Override
    public int getDocumentNumber() {
<span class="nc" id="L201">        return 0;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public DocumentInfo getDocumentRoot() {
<span class="nc" id="L209">        throw createUnsupportedOperationException(&quot;NodeInfo.getDocumentRoot()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public int getFingerprint() {
<span class="nc" id="L217">        throw createUnsupportedOperationException(&quot;NodeInfo.getFingerprint()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public int getLineNumber() {
<span class="nc" id="L225">        throw createUnsupportedOperationException(&quot;NodeInfo.getLineNumber()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public String getLocalPart() {
<span class="nc" id="L233">        throw createUnsupportedOperationException(&quot;NodeInfo.getLocalPart()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public int getNameCode() {
<span class="nc" id="L241">        throw createUnsupportedOperationException(&quot;NodeInfo.getNameCode()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public NamePool getNamePool() {
<span class="nc" id="L249">        throw createUnsupportedOperationException(&quot;NodeInfo.getNamePool()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public int getNodeKind() {
<span class="nc" id="L257">        throw createUnsupportedOperationException(&quot;NodeInfo.getNodeKind()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public NodeInfo getParent() {
<span class="nc" id="L265">        throw createUnsupportedOperationException(&quot;NodeInfo.getParent()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public String getPrefix() {
<span class="nc" id="L273">        throw createUnsupportedOperationException(&quot;NodeInfo.getPrefix()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public NodeInfo getRoot() {
<span class="nc" id="L281">        throw createUnsupportedOperationException(&quot;NodeInfo.getRoot()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public int getTypeAnnotation() {
<span class="nc" id="L289">        throw createUnsupportedOperationException(&quot;NodeInfo.getTypeAnnotation()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public String getURI() {
<span class="nc" id="L297">        throw createUnsupportedOperationException(&quot;NodeInfo.getURI()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public boolean hasChildNodes() {
<span class="nc" id="L305">        throw createUnsupportedOperationException(&quot;NodeInfo.hasChildNodes()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public boolean isId() {
<span class="nc" id="L313">        throw createUnsupportedOperationException(&quot;NodeInfo.isId()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public boolean isIdref() {
<span class="nc" id="L321">        throw createUnsupportedOperationException(&quot;NodeInfo.isIdref()&quot;);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public boolean isNilled() {
<span class="nc" id="L329">        throw createUnsupportedOperationException(&quot;NodeInfo.isNilled()&quot;);</span>
    }

    /**
     * This implementation delegates to {@link #equals(Object)}, per the Saxon
     * documentation's description of this method's behavior.
     *
     * {@inheritDoc}
     */
    @Override
    public boolean isSameNodeInfo(NodeInfo other) {
<span class="nc" id="L340">        return this.equals(other);</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public AxisIterator iterateAxis(byte axisNumber) {
<span class="nc" id="L348">        throw createUnsupportedOperationException(</span>
                &quot;NodeInfo.iterateAxis(byte) for axis '&quot; + Axis.axisName[axisNumber] + &quot;'&quot;);
    }

    /**
     * This implementation calls {@link #iterateAxis(byte)} to get an
     * {@link AxisIterator} which is then optionally filtered using
     * {@link AxisFilter}.
     *
     * {@inheritDoc}
     */
    @Override
    public AxisIterator iterateAxis(byte axisNumber, NodeTest nodeTest) {
<span class="nc" id="L361">        AxisIterator axisIterator = iterateAxis(axisNumber);</span>
<span class="nc bnc" id="L362" title="All 2 branches missed.">        if (nodeTest != null) {</span>
<span class="nc" id="L363">            axisIterator = new AxisFilter(axisIterator, nodeTest);</span>
        }
<span class="nc" id="L365">        return axisIterator;</span>
    }

    /**
     * Used to create a customized instance of UnsupportedOperationException.
     * The caller of this method is intended to &lt;code&gt;throw&lt;/code&gt; the
     * exception.
     *
     * @param name
     *            Method name that is not supported.
     * @return A UnsupportedOperationException indicated the method is not
     *         supported by the implementation class.
     */
    protected UnsupportedOperationException createUnsupportedOperationException(String name) {
<span class="nc" id="L379">        return new UnsupportedOperationException(name + &quot; is not implemented by &quot; + this.getClass().getName());</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>