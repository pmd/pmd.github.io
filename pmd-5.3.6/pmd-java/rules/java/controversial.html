<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-12-04 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20151204" />
    <meta http-equiv="Content-Language" content="en" />
    <title>PMD Java &#x2013; Controversial</title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarEnabled">
          
    
    
            
    
        
    <a href="https://github.com/pmd/pmd">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                                                                <a class="brand" href="../../index.html"  title="PMD">

                                
                                                                                                                    <img src="../../images/logo/pmd_logo_tiny.png" alt="PMD" />
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Parent Project <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../../../index.html"  title="PMD">PMD</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Rule Sets <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="../../rules/index.html"  title="java">java</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="../../rules/java/android.html"  title="Android">Android</a>
</li>
                                  <li>      <a href="../../rules/java/basic.html"  title="Basic">Basic</a>
</li>
                                  <li>      <a href="../../rules/java/braces.html"  title="Braces">Braces</a>
</li>
                                  <li>      <a href="../../rules/java/clone.html"  title="Clone Implementation">Clone Implementation</a>
</li>
                                  <li>      <a href="../../rules/java/codesize.html"  title="Code Size">Code Size</a>
</li>
                                  <li>      <a href="../../rules/java/comments.html"  title="Comments">Comments</a>
</li>
                                  <li>      <a href="../../rules/java/controversial.html"  title="Controversial">Controversial</a>
</li>
                                  <li>      <a href="../../rules/java/coupling.html"  title="Coupling">Coupling</a>
</li>
                                  <li>      <a href="../../rules/java/design.html"  title="Design">Design</a>
</li>
                                  <li>      <a href="../../rules/java/empty.html"  title="Empty Code">Empty Code</a>
</li>
                                  <li>      <a href="../../rules/java/finalizers.html"  title="Finalizer">Finalizer</a>
</li>
                                  <li>      <a href="../../rules/java/imports.html"  title="Import Statements">Import Statements</a>
</li>
                                  <li>      <a href="../../rules/java/j2ee.html"  title="J2EE">J2EE</a>
</li>
                                  <li>      <a href="../../rules/java/javabeans.html"  title="JavaBeans">JavaBeans</a>
</li>
                                  <li>      <a href="../../rules/java/junit.html"  title="JUnit">JUnit</a>
</li>
                                  <li>      <a href="../../rules/java/logging-jakarta-commons.html"  title="Jakarta Commons Logging">Jakarta Commons Logging</a>
</li>
                                  <li>      <a href="../../rules/java/logging-java.html"  title="Java Logging">Java Logging</a>
</li>
                                  <li>      <a href="../../rules/java/migrating.html"  title="Migration">Migration</a>
</li>
                                  <li>      <a href="../../rules/java/naming.html"  title="Naming">Naming</a>
</li>
                                  <li>      <a href="../../rules/java/optimizations.html"  title="Optimization">Optimization</a>
</li>
                                  <li>      <a href="../../rules/java/strictexception.html"  title="Strict Exceptions">Strict Exceptions</a>
</li>
                                  <li>      <a href="../../rules/java/strings.html"  title="String and StringBuffer">String and StringBuffer</a>
</li>
                                  <li>      <a href="../../rules/java/sunsecure.html"  title="Security Code Guidelines">Security Code Guidelines</a>
</li>
                                  <li>      <a href="../../rules/java/typeresolution.html"  title="Type Resolution">Type Resolution</a>
</li>
                                  <li>      <a href="../../rules/java/unnecessary.html"  title="Unnecessary">Unnecessary</a>
</li>
                                  <li>      <a href="../../rules/java/unusedcode.html"  title="Unused Code">Unused Code</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="../../project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="../../project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="../../dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                                  <li>      <a href="../../dependency-convergence.html"  title="Dependency Convergence">Dependency Convergence</a>
</li>
                                  <li>      <a href="../../dependency-info.html"  title="Dependency Information">Dependency Information</a>
</li>
                                  <li>      <a href="../../dependency-management.html"  title="Dependency Management">Dependency Management</a>
</li>
                                  <li>      <a href="../../plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="../../plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="../../team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="../../mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                                  <li>      <a href="../../integration.html"  title="Continuous Integration">Continuous Integration</a>
</li>
                                  <li>      <a href="../../issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="../../license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="../../source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="../../project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="../../xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                                  <li>      <a href="../../xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                                  <li>      <a href="../../apidocs/index.html"  title="JavaDocs">JavaDocs</a>
</li>
                                  <li>      <a href="../../testapidocs/index.html"  title="Test JavaDocs">Test JavaDocs</a>
</li>
                                  <li>      <a href="../../cpd.html"  title="CPD">CPD</a>
</li>
                                  <li>      <a href="../../pmd.html"  title="PMD">PMD</a>
</li>
                                  <li>      <a href="../../checkstyle.html"  title="Checkstyle">Checkstyle</a>
</li>
                                  <li>      <a href="../../surefire-report.html"  title="Surefire Report">Surefire Report</a>
</li>
                                  <li>      <a href="../../dependency-updates-report.html"  title="Dependency Updates Report">Dependency Updates Report</a>
</li>
                                  <li>      <a href="../../plugin-updates-report.html"  title="Plugin Updates Report">Plugin Updates Report</a>
</li>
                                  <li>      <a href="../../property-updates-report.html"  title="Property Updates Report">Property Updates Report</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
          
          
                               <ul class="nav pull-right">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">External Links <b class="caret"></b></a>
                <ul class="dropdown-menu">
                      <li>      <a href="http://sourceforge.net/projects/pmd"  title="SourceForge.net Project Page">SourceForge.net Project Page</a>
</li>
      <li>      <a href="http://sourceforge.net"  title="Hosted by SourceForge">Hosted by SourceForge</a>
</li>
                  </ul>
              </li>
            </ul>
          
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../../" id="bannerLeft">
                                                                                                <img src="../../../images/logo/pmd_logo_small.png"  alt="pmd-logo"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://sourceforge.net/" id="bannerRight">
                                                                                                <img src="../../../images/sflogo.png"  alt="SourceForge"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-12-04
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 5.3.6
                          <span class="divider">|</span>
                      </li>
                                      <li class="">
                    <a href="http://www.sourceforge.net/" class="externalLink" title="SourceForge">
        SourceForge</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../../../" title="PMD">
        PMD</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../../" title="PMD Java">
        PMD Java</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Controversial</li>
                
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Parent Project</li>
                              
      <li>
  
                          <a href="../../../index.html" title="PMD">
          <span class="none"></span>
        PMD</a>
            </li>
                              <li class="nav-header">Rule Sets</li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="../../rules/index.html" title="java">
          <span class="icon-chevron-down"></span>
        java</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="../../rules/java/android.html" title="Android">
          <span class="none"></span>
        Android</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/basic.html" title="Basic">
          <span class="none"></span>
        Basic</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/braces.html" title="Braces">
          <span class="none"></span>
        Braces</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/clone.html" title="Clone Implementation">
          <span class="none"></span>
        Clone Implementation</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/codesize.html" title="Code Size">
          <span class="none"></span>
        Code Size</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/comments.html" title="Comments">
          <span class="none"></span>
        Comments</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Controversial</a>
          </li>
                    
      <li>
  
                          <a href="../../rules/java/coupling.html" title="Coupling">
          <span class="none"></span>
        Coupling</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/design.html" title="Design">
          <span class="none"></span>
        Design</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/empty.html" title="Empty Code">
          <span class="none"></span>
        Empty Code</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/finalizers.html" title="Finalizer">
          <span class="none"></span>
        Finalizer</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/imports.html" title="Import Statements">
          <span class="none"></span>
        Import Statements</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/j2ee.html" title="J2EE">
          <span class="none"></span>
        J2EE</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/javabeans.html" title="JavaBeans">
          <span class="none"></span>
        JavaBeans</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/junit.html" title="JUnit">
          <span class="none"></span>
        JUnit</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/logging-jakarta-commons.html" title="Jakarta Commons Logging">
          <span class="none"></span>
        Jakarta Commons Logging</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/logging-java.html" title="Java Logging">
          <span class="none"></span>
        Java Logging</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/migrating.html" title="Migration">
          <span class="none"></span>
        Migration</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/naming.html" title="Naming">
          <span class="none"></span>
        Naming</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/optimizations.html" title="Optimization">
          <span class="none"></span>
        Optimization</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/strictexception.html" title="Strict Exceptions">
          <span class="none"></span>
        Strict Exceptions</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/strings.html" title="String and StringBuffer">
          <span class="none"></span>
        String and StringBuffer</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/sunsecure.html" title="Security Code Guidelines">
          <span class="none"></span>
        Security Code Guidelines</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/typeresolution.html" title="Type Resolution">
          <span class="none"></span>
        Type Resolution</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/unnecessary.html" title="Unnecessary">
          <span class="none"></span>
        Unnecessary</a>
            </li>
                    
      <li>
  
                          <a href="../../rules/java/unusedcode.html" title="Unused Code">
          <span class="none"></span>
        Unused Code</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="../../project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="../../project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Built by Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                                                                                                    <a href="http://sourceforge.net/" title="SourceForge.net" class="builtBy">
        <img class="builtBy"  alt="SourceForge.net. Fast, secure and Free Open Source software downloads" src="http://sflogo.sourceforge.net/sflogo.php?group_id=56262&type=10"   width="80"  height="15" />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Controversial</h1>
<p>The Controversial ruleset contains rules that, for whatever reason, are considered controversial. They are held here to allow people to include them as they see fit within their custom rulesets.</p>
<div class="section">
<h2><a name="UnnecessaryConstructor"></a>UnnecessaryConstructor</h2>
<p>Since: PMD 1.0</p>
<p>Priority: 3</p>
<p>This rule detects when a constructor is not necessary; i.e., when there is only one constructor, its public, has an empty body, and takes no arguments.</p>

<div>
<pre>
                    
//ClassOrInterfaceBody[count(ClassOrInterfaceBodyDeclaration/ConstructorDeclaration)=1]
/ClassOrInterfaceBodyDeclaration/ConstructorDeclaration
[@Public='true']
[not(FormalParameters/*)]
[not(BlockStatement)]
[not(NameList)]
[count(ExplicitConstructorInvocation/Arguments/ArgumentList/Expression)=0]
                    
                </pre></div>
<p>Example(s):</p>

<div>
<pre>
  
public class Foo {
  public Foo() {}
}
  
      </pre></div></div>
<div class="section">
<h2><a name="NullAssignment"></a>NullAssignment</h2>
<p>Since: PMD 1.02</p>
<p>Priority: 3</p>
<p>Assigning a &#x201c;null&#x201d; to a variable (outside of its declaration) is usually bad form. Sometimes, this type of assignment is an indication that the programmer doesn&#x2019;t completely understand what is going on in the code.</p>
<p>NOTE: This sort of assignment may used in some cases to dereference objects and encourage garbage collection.</p>
<p>This rule is defined by the following Java class: <a href="../../xref/net/sourceforge/pmd/lang/java/rule/controversial/NullAssignmentRule.html">net.sourceforge.pmd.lang.java.rule.controversial.NullAssignmentRule</a></p>
<p>Example(s):</p>

<div>
<pre>
 
public void bar() {
  Object x = null; // this is OK
  x = new Object();
     // big, complex piece of code here
  x = null; // this is not required
     // big, complex piece of code here
}

 
      </pre></div>
<p>This rule has the following properties:</p>

<table border="0" class="table table-striped">
    
<th>
        Name
    </th>
    
<th>
        Default Value
    </th>
    
<th>
        Description
    </th>
    
        
<tr class="a">
            
<td>
                violationSuppressRegex
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations with messages matching a regular expression
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                violationSuppressXPath
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations on nodes which match a given relative XPath expression.
            </td>
        </tr>
    
</table></div>
<div class="section">
<h2><a name="OnlyOneReturn"></a>OnlyOneReturn</h2>
<p>Since: PMD 1.0</p>
<p>Priority: 3</p>
<p>A method should have only one exit point, and that should be the last statement in the method.</p>
<p>This rule is defined by the following Java class: <a href="../../xref/net/sourceforge/pmd/lang/java/rule/controversial/OnlyOneReturnRule.html">net.sourceforge.pmd.lang.java.rule.controversial.OnlyOneReturnRule</a></p>
<p>Example(s):</p>

<div>
<pre>
 
public class OneReturnOnly1 {
  public void foo(int x) {
    if (x &gt; 0) {
      return &quot;hey&quot;;   // first exit
    }
    return &quot;hi&quot;;	// second exit
  }
}
 
     </pre></div>
<p>This rule has the following properties:</p>

<table border="0" class="table table-striped">
    
<th>
        Name
    </th>
    
<th>
        Default Value
    </th>
    
<th>
        Description
    </th>
    
        
<tr class="a">
            
<td>
                violationSuppressRegex
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations with messages matching a regular expression
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                violationSuppressXPath
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations on nodes which match a given relative XPath expression.
            </td>
        </tr>
    
</table></div>
<div class="section">
<h2><a name="AssignmentInOperand"></a>AssignmentInOperand</h2>
<p>Since: PMD 1.03</p>
<p>Priority: 3</p>
<p>Avoid assignments in operands; this can make code more complicated and harder to read.</p>
<p>This rule is defined by the following Java class: <a href="../../xref/net/sourceforge/pmd/lang/java/rule/controversial/AssignmentInOperandRule.html">net.sourceforge.pmd.lang.java.rule.controversial.AssignmentInOperandRule</a></p>
<p>Example(s):</p>

<div>
<pre>
  
public void bar() {
    int x = 2;
    if ((x = getX()) == 3) {
      System.out.println(&quot;3!&quot;);
    }
}
  
  </pre></div>
<p>This rule has the following properties:</p>

<table border="0" class="table table-striped">
    
<th>
        Name
    </th>
    
<th>
        Default Value
    </th>
    
<th>
        Description
    </th>
    
        
<tr class="a">
            
<td>
                violationSuppressRegex
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations with messages matching a regular expression
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                violationSuppressXPath
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations on nodes which match a given relative XPath expression.
            </td>
        </tr>
    
        
<tr class="a">
            
<td>
                allowIncrementDecrement
            </td>
            
<td>
                false
            </td>
            
<td>
                Allow increment or decrement operators within the conditional expression of an if, for, or while statement
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                allowWhile
            </td>
            
<td>
                false
            </td>
            
<td>
                Allow assignment within the conditional expression of a while statement
            </td>
        </tr>
    
        
<tr class="a">
            
<td>
                allowFor
            </td>
            
<td>
                false
            </td>
            
<td>
                Allow assignment within the conditional expression of a for statement
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                allowIf
            </td>
            
<td>
                false
            </td>
            
<td>
                Allow assignment within the conditional expression of an if statement
            </td>
        </tr>
    
</table></div>
<div class="section">
<h2><a name="AtLeastOneConstructor"></a>AtLeastOneConstructor</h2>
<p>Since: PMD 1.04</p>
<p>Priority: 3</p>
<p>Each class should declare at least one constructor.</p>

<div>
<pre>
              
//ClassOrInterfaceDeclaration[
  not(ClassOrInterfaceBody/ClassOrInterfaceBodyDeclaration/ConstructorDeclaration)
  and
  (@Static = 'false')
  and
  (count(./descendant::MethodDeclaration[@Static = 'true']) &lt; 1)
]
  [@Interface='false']

          </pre></div>
<p>Example(s):</p>

<div>
<pre>
  
public class Foo {
   // missing constructor
  public void doSomething() { ... }
  public void doOtherThing { ... }
}
  
  </pre></div></div>
<div class="section">
<h2><a name="DontImportSun"></a>DontImportSun</h2>
<p>Since: PMD 1.5</p>
<p>Priority: 4</p>
<p>Avoid importing anything from the &#x2018;sun.*&#x2019; packages. These packages are not portable and are likely to change.</p>
<p>This rule is defined by the following Java class: <a href="../../xref/net/sourceforge/pmd/lang/java/rule/controversial/DontImportSunRule.html">net.sourceforge.pmd.lang.java.rule.controversial.DontImportSunRule</a></p>
<p>Example(s):</p>

<div>
<pre>

import sun.misc.foo;
public class Foo {}

       </pre></div>
<p>This rule has the following properties:</p>

<table border="0" class="table table-striped">
    
<th>
        Name
    </th>
    
<th>
        Default Value
    </th>
    
<th>
        Description
    </th>
    
        
<tr class="a">
            
<td>
                violationSuppressRegex
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations with messages matching a regular expression
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                violationSuppressXPath
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations on nodes which match a given relative XPath expression.
            </td>
        </tr>
    
</table></div>
<div class="section">
<h2><a name="SuspiciousOctalEscape"></a>SuspiciousOctalEscape</h2>
<p>Since: PMD 1.5</p>
<p>Priority: 3</p>
<p>A suspicious octal escape sequence was found inside a String literal. The Java language specification (section 3.10.6) says an octal escape sequence inside a literal String shall consist of a backslash followed by:</p>
<p>OctalDigit | OctalDigit OctalDigit | ZeroToThree OctalDigit OctalDigit</p>
<p>Any octal escape sequence followed by non-octal digits can be confusing, e.g. &#x201c;\038&#x201d; is interpreted as the octal escape sequence &#x201c;\03&#x201d; followed by the literal character &#x201c;8&#x201d;.</p>
<p>This rule is defined by the following Java class: <a href="../../xref/net/sourceforge/pmd/lang/java/rule/controversial/SuspiciousOctalEscapeRule.html">net.sourceforge.pmd.lang.java.rule.controversial.SuspiciousOctalEscapeRule</a></p>
<p>Example(s):</p>

<div>
<pre>

public void foo() {
  // interpreted as octal 12, followed by character '8'
  System.out.println(&quot;suspicious: \128&quot;);
}

      </pre></div>
<p>This rule has the following properties:</p>

<table border="0" class="table table-striped">
    
<th>
        Name
    </th>
    
<th>
        Default Value
    </th>
    
<th>
        Description
    </th>
    
        
<tr class="a">
            
<td>
                violationSuppressRegex
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations with messages matching a regular expression
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                violationSuppressXPath
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations on nodes which match a given relative XPath expression.
            </td>
        </tr>
    
</table></div>
<div class="section">
<h2><a name="CallSuperInConstructor"></a>CallSuperInConstructor</h2>
<p>Since: PMD 3.0</p>
<p>Priority: 3</p>
<p>It is a good practice to call super() in a constructor. If super() is not called but another constructor (such as an overloaded constructor) is called, this rule will not report it.</p>

<div>
<pre>
    
//ClassOrInterfaceDeclaration[ count (ExtendsList/*) &gt; 0 ]
/ClassOrInterfaceBody
 /ClassOrInterfaceBodyDeclaration
 /ConstructorDeclaration[ count (.//ExplicitConstructorInvocation)=0 ]
    
              </pre></div>
<p>Example(s):</p>

<div>
<pre>

public class Foo extends Bar{
  public Foo() {
   // call the constructor of Bar
   super();
  }
 public Foo(int code) {
  // do something with code
   this();
   // no problem with this
  }
}

      </pre></div></div>
<div class="section">
<h2><a name="UnnecessaryParentheses"></a>UnnecessaryParentheses</h2>
<p>Since: PMD 3.1</p>
<p>Priority: 3</p>
<p>Sometimes expressions are wrapped in unnecessary parentheses, making them look like function calls.</p>

<div>
<pre>
                  
          //Expression
           /PrimaryExpression
            /PrimaryPrefix
             /Expression[count(*)=1]
              /PrimaryExpression
              /PrimaryPrefix
              </pre></div>
<p>Example(s):</p>

<div>
<pre>
  
public class Foo {
   boolean bar() {
      return (true);
      }
}
  
      </pre></div></div>
<div class="section">
<h2><a name="DefaultPackage"></a>DefaultPackage</h2>
<p>Since: PMD 3.4</p>
<p>Priority: 3</p>
<p>Use explicit scoping instead of accidental usage of default package private level. The rule allows methods and fields annotated with Guava&#x2019;s @VisibleForTesting.</p>

<div>
<pre>
//ClassOrInterfaceDeclaration[@Interface='false']
/ClassOrInterfaceBody
/ClassOrInterfaceBodyDeclaration
[not(Annotation//Name[ends-with(@Image, 'VisibleForTesting')])]
[
FieldDeclaration[@PackagePrivate='true']
or MethodDeclaration[@PackagePrivate='true']
]
                </pre></div></div>
<div class="section">
<h2><a name="BooleanInversion"></a>BooleanInversion</h2>
<p><span style="border-radius: 0.25em; color: #fff; padding: 0.2em 0.6em 0.3em; display: inline; background-color: #d9534f;">Deprecated</span></p>
<p>Since: PMD 3.5</p>
<p>Priority: 3</p>
<p><b>Note:</b> This rule is deprecated as nowadays the JVMs JIT compilers will optimize away the differences. While the bytecode generated by the java compiler is indeed different, at runtime the instructions are optimized to the fastest way automatically. See <a class="externalLink" href="https://sourceforge.net/p/pmd/bugs/1277/">#1277</a> for more details.</p>
<p>Use bitwise inversion to invert boolean values - it&#x2019;s the fastest way to do this. See <a class="externalLink" href="http://www.javaspecialists.eu/archive/Issue042.html">Java Specialists - Issue 042</a> for specific details.</p>

<div>
<pre>
    
//AssignmentOperator[@Image=&quot;=&quot;]/../Expression/UnaryExpressionNotPlusMinus[@Image=&quot;!&quot;]

             </pre></div>
<p>Example(s):</p>

<div>
<pre>
  
boolean b = true;
b = !b;		// slow
b ^= true;	// fast

      </pre></div></div>
<div class="section">
<h2><a name="DataflowAnomalyAnalysis"></a>DataflowAnomalyAnalysis</h2>
<p>Since: PMD 3.9</p>
<p>Priority: 5</p>
<p>The dataflow analysis tracks local definitions, undefinitions and references to variables on different paths on the data flow. From those informations there can be found various problems.</p>

<ol style="list-style-type: decimal">
  
<li>UR - Anomaly: There is a reference to a variable that was not defined before. This is a bug and leads to an error.</li>
  
<li>DU - Anomaly: A recently defined variable is undefined. These anomalies may appear in normal source text.</li>
  
<li>DD - Anomaly: A recently defined variable is redefined. This is ominous but don&#x2019;t have to be a bug.</li>
</ol>
<p>This rule is defined by the following Java class: <a href="../../xref/net/sourceforge/pmd/lang/java/rule/controversial/DataflowAnomalyAnalysisRule.html">net.sourceforge.pmd.lang.java.rule.controversial.DataflowAnomalyAnalysisRule</a></p>
<p>Example(s):</p>

<div>
<pre>

public void foo() {
  int buz = 5;
  buz = 6; // redefinition of buz -&gt; dd-anomaly
  foo(buz);
  buz = 2;
} // buz is undefined when leaving scope -&gt; du-anomaly

          </pre></div>
<p>This rule has the following properties:</p>

<table border="0" class="table table-striped">
    
<th>
        Name
    </th>
    
<th>
        Default Value
    </th>
    
<th>
        Description
    </th>
    
        
<tr class="a">
            
<td>
                violationSuppressRegex
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations with messages matching a regular expression
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                violationSuppressXPath
            </td>
            
<td>
                
            </td>
            
<td>
                Suppress violations on nodes which match a given relative XPath expression.
            </td>
        </tr>
    
        
<tr class="a">
            
<td>
                maxViolations
            </td>
            
<td>
                100
            </td>
            
<td>
                Maximum number of anomalies per class
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                maxPaths
            </td>
            
<td>
                1000
            </td>
            
<td>
                Maximum number of checked paths per method. A lower value will increase the performance of the rule but may decrease anomalies found.
            </td>
        </tr>
    
</table></div>
<div class="section">
<h2><a name="AvoidFinalLocalVariable"></a>AvoidFinalLocalVariable</h2>
<p>Since: PMD 4.1</p>
<p>Priority: 3</p>
<p>Avoid using final local variables, turn them into fields.</p>

<div>
<pre>
//LocalVariableDeclaration[
  @Final = 'true'
  and not(../../ForStatement)
  and
  (
    (count(VariableDeclarator/VariableInitializer) = 0)
    or
    (VariableDeclarator/VariableInitializer/Expression/PrimaryExpression/PrimaryPrefix/Literal)
  )
]
      </pre></div>
<p>Example(s):</p>

<div>
<pre>
public class MyClass {
    public void foo() {
        final String finalLocalVariable;
    }
}
       </pre></div></div>
<div class="section">
<h2><a name="AvoidUsingShortType"></a>AvoidUsingShortType</h2>
<p>Since: PMD 4.1</p>
<p>Priority: 1</p>
<p>Java uses the &#x2018;short&#x2019; type to reduce memory usage, not to optimize calculation. In fact, the JVM does not have any arithmetic capabilities for the short type: the JVM must convert the short into an int, do the proper calculation and convert the int back to a short. Thus any storage gains found through use of the &#x2018;short&#x2019; type may be offset by adverse impacts on performance.</p>

<div>
<pre>
                    
            //PrimitiveType[@Image = 'short']
                    
                </pre></div>
<p>Example(s):</p>

<div>
<pre>
            
public class UsingShort {
   private short doNotUseShort = 0;

   public UsingShort() {
    short shouldNotBeUsed = 1;
    doNotUseShort += shouldNotBeUsed;
  }
}
       
     </pre></div></div>
<div class="section">
<h2><a name="AvoidUsingVolatile"></a>AvoidUsingVolatile</h2>
<p>Since: PMD 4.1</p>
<p>Priority: 2</p>
<p>Use of the keyword &#x2018;volatile&#x2019; is generally used to fine tune a Java application, and therefore, requires a good expertise of the Java Memory Model. Moreover, its range of action is somewhat misknown. Therefore, the volatile keyword should not be used for maintenance purpose and portability.</p>

<div>
<pre>
                    
                        //FieldDeclaration[
                                contains(@Volatile,'true')
                        ]
                    
                </pre></div>
<p>Example(s):</p>

<div>
<pre>
      
public class ThrDeux {
  private volatile String var1;	// not suggested
  private          String var2;	// preferred
}
      
    </pre></div></div>
<div class="section">
<h2><a name="AvoidUsingNativeCode"></a>AvoidUsingNativeCode</h2>
<p>Since: PMD 4.1</p>
<p>Priority: 2</p>
<p>Unnecessary reliance on Java Native Interface (JNI) calls directly reduces application portability and increases the maintenance burden.</p>

<div>
<pre>
                    
                        //Name[starts-with(@Image,'System.loadLibrary')]
                    
                </pre></div>
<p>Example(s):</p>

<div>
<pre>
            
public class SomeJNIClass {

     public SomeJNIClass() {
         System.loadLibrary(&quot;nativelib&quot;);
     }

     static {
         System.loadLibrary(&quot;nativelib&quot;);
         }

     public void invalidCallsInMethod() throws SecurityException, NoSuchMethodException {
         System.loadLibrary(&quot;nativelib&quot;);
     }
}
            
        </pre></div></div>
<div class="section">
<h2><a name="AvoidAccessibilityAlteration"></a>AvoidAccessibilityAlteration</h2>
<p>Since: PMD 4.1</p>
<p>Priority: 3</p>
<p>Methods such as getDeclaredConstructors(), getDeclaredConstructor(Class[]) and setAccessible(), as the interface PrivilegedAction, allows for the runtime alteration of variable, class, or method visibility, even if they are private. This violates the principle of encapsulation.</p>

<div>
<pre>
                   
                        //PrimaryExpression[
                        (
                        (PrimarySuffix[
                                ends-with(@Image,'getDeclaredConstructors')
                                        or
                                ends-with(@Image,'getDeclaredConstructor')
                                        or
                                ends-with(@Image,'setAccessible')
                                ])
                        or
                        (PrimaryPrefix/Name[
                                ends-with(@Image,'getDeclaredConstructor')
                                or
                                ends-with(@Image,'getDeclaredConstructors')
                                or
                                starts-with(@Image,'AccessibleObject.setAccessible')
                                ])
                        )
                        and
                        (//ImportDeclaration/Name[
                                contains(@Image,'java.security.PrivilegedAction')])
                ]
                
                </pre></div>
<p>Example(s):</p>

<div>
<pre>
            

import java.lang.reflect.AccessibleObject;
import java.lang.reflect.Method;
import java.security.PrivilegedAction;

public class Violation {
  public void invalidCallsInMethod() throws SecurityException, NoSuchMethodException {
    // Possible call to forbidden getDeclaredConstructors
    Class[] arrayOfClass = new Class[1];
    this.getClass().getDeclaredConstructors();
    this.getClass().getDeclaredConstructor(arrayOfClass);
    Class clazz = this.getClass();
    clazz.getDeclaredConstructor(arrayOfClass);
    clazz.getDeclaredConstructors();
      // Possible call to forbidden setAccessible
    clazz.getMethod(&quot;&quot;, arrayOfClass).setAccessible(false);
    AccessibleObject.setAccessible(null, false);
    Method.setAccessible(null, false);
    Method[] methodsArray = clazz.getMethods();
    int nbMethod;
    for ( nbMethod = 0; nbMethod &lt; methodsArray.length; nbMethod++ ) {
      methodsArray[nbMethod].setAccessible(false);
    }

      // Possible call to forbidden PrivilegedAction
    PrivilegedAction priv = (PrivilegedAction) new Object(); priv.run();
  }
}
          
      </pre></div></div>
<div class="section">
<h2><a name="DoNotCallGarbageCollectionExplicitly"></a>DoNotCallGarbageCollectionExplicitly</h2>
<p>Since: PMD 4.2</p>
<p>Priority: 2</p>
<p>Calls to System.gc(), Runtime.getRuntime().gc(), and System.runFinalization() are not advised. Code should have the same behavior whether the garbage collection is disabled using the option -Xdisableexplicitgc or not. Moreover, &#x201c;modern&#x201d; jvms do a very good job handling garbage collections. If memory usage issues unrelated to memory leaks develop within an application, it should be dealt with JVM options rather than within the code itself.</p>

<div>
<pre>
                    
//Name[
(starts-with(@Image, 'System.') and
(starts-with(@Image, 'System.gc') or
starts-with(@Image, 'System.runFinalization'))) or
(
starts-with(@Image,'Runtime.getRuntime') and
../../PrimarySuffix[ends-with(@Image,'gc')]
)
]

                </pre></div>
<p>Example(s):</p>

<div>
<pre>
            
public class GCCall {
    public GCCall()	{
        // Explicit gc call !
        System.gc();
    }

    public void doSomething() {
    // Explicit gc call !
       Runtime.getRuntime().gc();
    }

    public explicitGCcall() { // Explicit gc call ! System.gc(); }

    public void doSomething() { // Explicit gc call ! Runtime.getRuntime().gc(); }
}
      
    </pre></div></div>
<div class="section">
<h2><a name="OneDeclarationPerLine"></a>OneDeclarationPerLine</h2>
<p>Since: PMD 5.0</p>
<p>Priority: 4</p>
<p>Java allows the use of several variables declaration of the same type on one line. However, it can lead to quite messy code. This rule looks for several declarations on the same line.</p>

<div>
<pre>
                    
//LocalVariableDeclaration
   [count(VariableDeclarator) &gt; 1]
   [$strictMode or count(distinct-values(VariableDeclarator/@BeginLine)) != count(VariableDeclarator)]
                    
                </pre></div>
<p>Example(s):</p>

<div>
<pre>
          
String name;            // separate declarations
String lastname;

String name, lastname;  // combined declaration, a violation

String name,
       lastname;        // combined declaration on multiple lines, no violation by default.
                        // Set property strictMode to true to mark this as violation.
          
        </pre></div>
<p>This rule has the following properties:</p>

<table border="0" class="table table-striped">
    
<th>
        Name
    </th>
    
<th>
        Default Value
    </th>
    
<th>
        Description
    </th>
    
        
<tr class="a">
            
<td>
                version
            </td>
            
<td>
                2.0
            </td>
            
<td>
                
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                strictMode
            </td>
            
<td>
                false
            </td>
            
<td>
                If true, mark combined declaration even if the declarations are on separate lines.
            </td>
        </tr>
    
</table></div>
<div class="section">
<h2><a name="AvoidPrefixingMethodParameters"></a>AvoidPrefixingMethodParameters</h2>
<p>Since: PMD 5.0</p>
<p>Priority: 4</p>
<p>Prefixing parameters by &#x2018;in&#x2019; or &#x2018;out&#x2019; pollutes the name of the parameters and reduces code readability. To indicate whether or not a parameter will be modify in a method, its better to document method behavior with Javadoc.</p>

<div>
<pre>
                    
//MethodDeclaration/MethodDeclarator/FormalParameters/FormalParameter/VariableDeclaratorId[
        pmd:matches(@Image,'^in[A-Z].*','^out[A-Z].*','^in$','^out$')
]
                    
                </pre></div>
<p>Example(s):</p>

<div>
<pre>
// Not really clear
public class Foo {
  public void bar(
      int inLeftOperand,
      Result outRightOperand) {
      outRightOperand.setValue(inLeftOperand * outRightOperand.getValue());
  }
}
        </pre></div>
<p>Example(s):</p>

<div>
<pre>
// Far more useful
public class Foo {
  /**
   *
   * @param leftOperand, (purpose), not modified by method.
   * @param rightOperand (purpose), will be modified by the method: contains the result.
   */
  public void bar(
        int leftOperand,
        Result rightOperand) {
        rightOperand.setValue(leftOperand * rightOperand.getValue());
  }
}
        </pre></div></div>
<div class="section">
<h2><a name="AvoidLiteralsInIfCondition"></a>AvoidLiteralsInIfCondition</h2>
<p>Since: PMD 4.2.6</p>
<p>Priority: 3</p>
<p>Avoid using hard-coded literals in conditional statements. By declaring them as static variables or private members with descriptive names maintainability is enhanced. By default, the literals &#x201c;-1&#x201d; and &#x201c;0&#x201d; are ignored. More exceptions can be defined with the property &#x201c;ignoreMagicNumbers&#x201d;.</p>

<div>
<pre>

//IfStatement/Expression/*/PrimaryExpression/PrimaryPrefix/Literal
[not(NullLiteral)]
[not(BooleanLiteral)]
[empty(index-of(tokenize($ignoreMagicNumbers, ','), @Image))]

        </pre></div>
<p>Example(s):</p>

<div>
<pre>

private static final int MAX_NUMBER_OF_REQUESTS = 10;

public void checkRequests() {

    if (i == 10) {                        // magic number, buried in a method
      doSomething();
    }

    if (i == MAX_NUMBER_OF_REQUESTS) {    // preferred approach
      doSomething();
    }

    if (aString.indexOf('.') != -1) {}     // magic number -1, by default ignored
    if (aString.indexOf('.') &gt;= 0) { }     // alternative approach

    if (aDouble &gt; 0.0) {}                  // magic number 0.0
    if (aDouble &gt;= Double.MIN_VALUE) {}    // preferred approach
}

    </pre></div>
<p>This rule has the following properties:</p>

<table border="0" class="table table-striped">
    
<th>
        Name
    </th>
    
<th>
        Default Value
    </th>
    
<th>
        Description
    </th>
    
        
<tr class="a">
            
<td>
                ignoreMagicNumbers
            </td>
            
<td>
                -1,0
            </td>
            
<td>
                Comma-separated list of magic numbers, that should be ignored
            </td>
        </tr>
    
        
<tr class="b">
            
<td>
                version
            </td>
            
<td>
                2.0
            </td>
            
<td>
                
            </td>
        </tr>
    
</table></div>
<div class="section">
<h2><a name="UseObjectForClearerAPI"></a>UseObjectForClearerAPI</h2>
<p>Since: PMD 4.2.6</p>
<p>Priority: 3</p>
<p>When you write a public method, you should be thinking in terms of an API. If your method is public, it means other class will use it, therefore, you want (or need) to offer a comprehensive and evolutive API. If you pass a lot of information as a simple series of Strings, you may think of using an Object to represent all those information. You&#x2019;ll get a simplier API (such as doWork(Workload workload), rather than a tedious series of Strings) and more importantly, if you need at some point to pass extra data, you&#x2019;ll be able to do so by simply modifying or extending Workload without any modification to your API.</p>

<div>
<pre>

//MethodDeclaration[@Public]/MethodDeclarator/FormalParameters[
     count(FormalParameter/Type/ReferenceType/ClassOrInterfaceType[@Image = 'String']) &gt; 3
]

        </pre></div>
<p>Example(s):</p>

<div>
<pre>

public class MyClass {
  public void connect(String username,
    String pssd,
    String databaseName,
    String databaseAdress)
    // Instead of those parameters object
    // would ensure a cleaner API and permit
    // to add extra data transparently (no code change):
    // void connect(UserData data);
    {

  }
}

    </pre></div></div>
<div class="section">
<h2><a name="UseConcurrentHashMap"></a>UseConcurrentHashMap</h2>
<p>Since: PMD 4.2.6</p>
<p>Priority: 3</p>
<p>Since Java5 brought a new implementation of the Map designed for multi-threaded access, you can perform efficient map reads without blocking other threads.</p>

<div>
<pre>

//Type[../VariableDeclarator/VariableInitializer//AllocationExpression/ClassOrInterfaceType[@Image != 'ConcurrentHashMap']]
/ReferenceType/ClassOrInterfaceType[@Image = 'Map']

        </pre></div>
<p>Example(s):</p>

<div>
<pre>

public class ConcurrentApp {
  public void getMyInstance() {
    Map map1 = new HashMap(); 	// fine for single-threaded access
    Map map2 = new ConcurrentHashMap();  // preferred for use with multiple threads

    // the following case will be ignored by this rule
    Map map3 = someModule.methodThatReturnMap(); // might be OK, if the returned map is already thread-safe
  }
}

    </pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2002&#x2013;2015
                        <a href="http://pmd.sourceforge.net/">InfoEther</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
